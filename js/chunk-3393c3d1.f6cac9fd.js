(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3393c3d1"],{"057f":function(t,e,r){var n=r("fc6a"),a=r("241c").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return a(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==o.call(t)?c(t):a(n(t))}},"0f66":function(t,e,r){},"456f":function(t,e,r){"use strict";r("0f66")},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),c=r("50c4"),s=r("8418"),u=r("35a1");t.exports=function(t){var e,r,f,l,d,g,b=a(t),m="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,p=void 0!==v,y=u(b),w=0;if(p&&(v=n(v,h>2?arguments[2]:void 0,2)),void 0==y||m==Array&&i(y))for(e=c(b.length),r=new m(e);e>w;w++)g=p?v(b[w],w):b[w],s(r,w,g);else for(l=y.call(b),d=l.next,r=new m;!(f=d.call(l)).done;w++)g=p?o(l,v,[f.value,w],!0):f.value,s(r,w,g);return r.length=w,r}},"746f":function(t,e,r){var n=r("428f"),a=r("5135"),o=r("e538"),i=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});a(e,t)||i(e,t,{value:o.f(t)})}},"7fb3":function(t,e,r){t.exports=r.p+"img/icbc.bc3bab50.jpg"},"99af":function(t,e,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),c=r("7b0b"),s=r("50c4"),u=r("8418"),f=r("65f0"),l=r("1dde"),d=r("b622"),g=r("2d00"),b=d("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),p=l("concat"),y=function(t){if(!i(t))return!1;var e=t[b];return void 0!==e?!!e:o(t)},w=!v||!p;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,n,a,o,i=c(this),l=f(i,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],y(o)){if(a=s(o.length),d+a>m)throw TypeError(h);for(r=0;r<a;r++,d++)r in o&&u(l,d,o[r])}else{if(d>=m)throw TypeError(h);u(l,d++,o)}return l.length=d,l}})},"9bdd":function(t,e,r){var n=r("825a"),a=r("2a62");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(i){throw a(t),i}}},a1bc:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return b}));r("99af");var n="ICBC v1.5.0",a=function(){return window.localStorage.getItem("httpUrl")||"127.0.0.1"},o=function(){return window.localStorage.getItem("websocketUrl")||"127.0.0.1"},i=function(){return window.localStorage.getItem("httpPort")||"8000"},c=function(){return window.localStorage.getItem("websocketPort")||"8000"},s=function(){return"ws://".concat(o(),":").concat(c(),"/")},u=function(){return"http://".concat(a(),":").concat(i(),"/")};function f(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e+t[n]);return r}var l={warning:"warning",numQueue:"numQueue",mostStandingTime:"mostStandingTime",mostContactTime:"mostContactTime",offlineImage:"offlineImage",crossRegion:"crossRegion",genderRate:"genderRate",ageRate:"ageRate",latestDay:"latestDay",faceAttr:"faceAttr",abnormal:"abnormal",leftover:"leftover",managerStatus:"managerStatus",numRegion:"numRegion"},d={selectPerson:"selectPerson",setEntrySize:"setEntrySize",setBankCapacity:"setBankCapacity",setWaitTime:"setWaitTime",setWaitNumber:"setWaitNumber",setLeaveTime:"setLeaveTime",setContactTime:"setContactTime",getEntrySize:"getEntrySize",getBankCapacity:"getBankCapacity",getWaitTime:"getWaitTime",getWaitNumber:"getWaitNumber",getLeaveTime:"getLeaveTime",getContactTime:"getContactTime",getLastWeekNum:"getLastWeekNum",backgroundShot:"backgroundShot",areaHandle:"areaHandle"},g={face:"hls/face.m3u8",queue:"hls/queue.m3u8",dangerous:"hls/dangerous.m3u8",leftover:"hls/leftover.m3u8",standing:"hls/standing.m3u8",offline:"hls/offline.m3u8"},b=function(){return{ws:f(l,s()),http:f(d,u()),m3u8:f(g,u())}}},a4d3:function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("d066"),i=r("c430"),c=r("83ab"),s=r("4930"),u=r("fdbf"),f=r("d039"),l=r("5135"),d=r("e8b5"),g=r("861d"),b=r("825a"),m=r("7b0b"),h=r("fc6a"),v=r("c04e"),p=r("5c6c"),y=r("7c73"),w=r("df75"),S=r("241c"),O=r("057f"),T=r("7418"),k=r("06cf"),C=r("9bf2"),I=r("d1e7"),A=r("9112"),j=r("6eeb"),x=r("5692"),P=r("f772"),E=r("d012"),$=r("90e3"),_=r("b622"),W=r("e538"),N=r("746f"),R=r("d44e"),M=r("69f3"),B=r("b727").forEach,L=P("hidden"),z="Symbol",D="prototype",H=_("toPrimitive"),J=M.set,q=M.getterFor(z),Q=Object[D],U=a.Symbol,F=o("JSON","stringify"),X=k.f,Y=C.f,G=O.f,K=I.f,V=x("symbols"),Z=x("op-symbols"),tt=x("string-to-symbol-registry"),et=x("symbol-to-string-registry"),rt=x("wks"),nt=a.QObject,at=!nt||!nt[D]||!nt[D].findChild,ot=c&&f((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=X(Q,e);n&&delete Q[e],Y(t,e,r),n&&t!==Q&&Y(Q,e,n)}:Y,it=function(t,e){var r=V[t]=y(U[D]);return J(r,{type:z,tag:t,description:e}),c||(r.description=e),r},ct=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},st=function(t,e,r){t===Q&&st(Z,e,r),b(t);var n=v(e,!0);return b(r),l(V,n)?(r.enumerable?(l(t,L)&&t[L][n]&&(t[L][n]=!1),r=y(r,{enumerable:p(0,!1)})):(l(t,L)||Y(t,L,p(1,{})),t[L][n]=!0),ot(t,n,r)):Y(t,n,r)},ut=function(t,e){b(t);var r=h(e),n=w(r).concat(bt(r));return B(n,(function(e){c&&!lt.call(r,e)||st(t,e,r[e])})),t},ft=function(t,e){return void 0===e?y(t):ut(y(t),e)},lt=function(t){var e=v(t,!0),r=K.call(this,e);return!(this===Q&&l(V,e)&&!l(Z,e))&&(!(r||!l(this,e)||!l(V,e)||l(this,L)&&this[L][e])||r)},dt=function(t,e){var r=h(t),n=v(e,!0);if(r!==Q||!l(V,n)||l(Z,n)){var a=X(r,n);return!a||!l(V,n)||l(r,L)&&r[L][n]||(a.enumerable=!0),a}},gt=function(t){var e=G(h(t)),r=[];return B(e,(function(t){l(V,t)||l(E,t)||r.push(t)})),r},bt=function(t){var e=t===Q,r=G(e?Z:h(t)),n=[];return B(r,(function(t){!l(V,t)||e&&!l(Q,t)||n.push(V[t])})),n};if(s||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=$(t),r=function(t){this===Q&&r.call(Z,t),l(this,L)&&l(this[L],e)&&(this[L][e]=!1),ot(this,e,p(1,t))};return c&&at&&ot(Q,e,{configurable:!0,set:r}),it(e,t)},j(U[D],"toString",(function(){return q(this).tag})),j(U,"withoutSetter",(function(t){return it($(t),t)})),I.f=lt,C.f=st,k.f=dt,S.f=O.f=gt,T.f=bt,W.f=function(t){return it(_(t),t)},c&&(Y(U[D],"description",{configurable:!0,get:function(){return q(this).description}}),i||j(Q,"propertyIsEnumerable",lt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:U}),B(w(rt),(function(t){N(t)})),n({target:z,stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var r=U(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!c},{create:ft,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:gt,getOwnPropertySymbols:bt}),n({target:"Object",stat:!0,forced:f((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(m(t))}}),F){var mt=!s||f((function(){var t=U();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var n,a=[t],o=1;while(arguments.length>o)a.push(arguments[o++]);if(n=e,(g(e)||void 0!==t)&&!ct(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ct(e))return e}),a[1]=e,F.apply(null,a)}})}U[D][H]||A(U[D],H,U[D].valueOf),R(U,z),E[L]=!0},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:a})},b69f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"manage-container"},[r("div",{staticClass:"manager-wrapper"},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.topic,callback:function(e){t.topic=e},expression:"topic"}},t._l(t.topics,(function(t){return r("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1),r("el-button",{attrs:{type:"primary"},on:{click:t.selectTopic}},[t._v("Send Topic")]),r("el-button",{attrs:{type:"primary"},on:{click:t.selectArea}},[t._v("Send Area")])],1),r("div",{ref:"cv",staticClass:"canvas-container"},[r("canvas",{attrs:{width:"800",height:"600"}}),r("canvas",{attrs:{width:"800",height:"600"}})])])},a=[];function o(t){if(Array.isArray(t))return t}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)if(r.push(i.value),e&&r.length===e)break}catch(s){a=!0,o=s}finally{try{n||null==c["return"]||c["return"]()}finally{if(a)throw o}}return r}}r("fb6a"),r("b0c0"),r("a630");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){return o(t)||i(t,e)||s(t,e)||u()}r("4160"),r("159b");var l=r("a1bc"),d=r("7fb3"),g=r.n(d),b={name:"Manage",data:function(){return{topic:"",arr:[],bgImg:null,topics:[{label:"face_area",value:"进店"},{label:"queue_area",value:"排队"},{label:"dangerous_data",value:"危险物品"},{label:"leftover_area",value:"遗留物品"},{label:"standing_area",value:"停留时间"},{label:"offline_area",value:"离岗检测"}]}},mounted:function(){var t=this,e={data:{img:g.a}},r=e.data,n=this.$refs.cv.children[0],a=n.getContext("2d"),o=this.$refs.cv.children[1],i=o.getContext("2d");a.lineWidth=3,a.fillStyle="red",a.strokeStyle="red",a.beginPath(),this.bgImg=new Image,this.bgImg.src=r["img"],this.bgImg.onload=function(){i.drawImage(t.bgImg,0,0,800,600)},document.oncontextmenu=function(){return!1};var c=n.getBoundingClientRect();n.onmousedown=function(e){if(console.log(e),1===e.buttons){var r=[Math.round(e.clientX-c.left),Math.round(e.clientY-c.top)],n=r[0],o=r[1];if(t.arr.length>0){if(t.minDistance([n,o],t.arr[0])){var i=f(t.arr[0],2);n=i[0],o=i[1]}t.arr.push([n,o]),a.lineTo(n,o),a.stroke(),console.log("1:",t.arr)}else t.arr.push([n,o]),a.arc(n,o,1,0,2*Math.PI),a.stroke(),a.moveTo(n,o),console.log("0:",t.arr)}else 2===e.buttons&&t.arr.length>0&&(a.closePath(),a.beginPath(),a.clearRect(0,0,800,600),t.arr.pop(),t.arr.forEach((function(t,e){var r=f(t,2),n=r[0],o=r[1];0===e?(a.arc(n,o,1,0,2*Math.PI),a.moveTo(n,o)):a.lineTo(n,o)})),a.stroke())}},methods:{selectTopic:function(){var t=this;this.topic?this.axios.get(Object(l["a"])().http.areaHandle,{params:{flag:"get_image",topic:this.topic}}).then((function(e){var r=e.data;console.log(r);var n=t.$refs.cv.children[1].getContext("2d"),a=new Image;a.src="data:image/png;base64,"+r["img"],a.onload=function(){n.drawImage(a,0,0,800,600)},t.$message.success("选取主题成功")})).catch((function(e){t.$message.error("选取主题失败"),console.error(e)})):this.$message.error("请选择区域")},selectArea:function(){var t=this;0!==this.arr.length?this.axios.post(Object(l["a"])().http.areaHandle,{flag:"send_area",topic:this.topic,area:this.arr,size:[800,600]}).then((function(e){var r=e.data;console.log(r),t.$message.success("选取区域成功")})).catch((function(e){t.$message.error("选取区域失败"),console.error(e)})):this.$message.error("请选取区域")},minDistance:function(t,e){var r=t[0]-e[0],n=t[1]-e[1];return console.log(r*r+n*n),r*r+n*n<1024}}},m=b,h=(r("456f"),r("2877")),v=Object(h["a"])(m,n,a,!1,null,"ac8682fc",null);e["default"]=v.exports},d28b:function(t,e,r){var n=r("746f");n("iterator")},e01a:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("5135"),c=r("861d"),s=r("9bf2").f,u=r("e893"),f=o.Symbol;if(a&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};u(d,f);var g=d.prototype=f.prototype;g.constructor=d;var b=g.toString,m="Symbol(test)"==String(f("test")),h=/^Symbol\((.*)\)[^)]+$/;s(g,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=b.call(t);if(i(l,t))return"";var r=m?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,r){var n=r("b622");e.f=n},fb6a:function(t,e,r){"use strict";var n=r("23e7"),a=r("861d"),o=r("e8b5"),i=r("23cb"),c=r("50c4"),s=r("fc6a"),u=r("8418"),f=r("b622"),l=r("1dde"),d=r("ae40"),g=l("slice"),b=d("slice",{ACCESSORS:!0,0:0,1:2}),m=f("species"),h=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!g||!b},{slice:function(t,e){var r,n,f,l=s(this),d=c(l.length),g=i(t,d),b=i(void 0===e?d:e,d);if(o(l)&&(r=l.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[m],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(l,g,b);for(n=new(void 0===r?Array:r)(v(b-g,0)),f=0;g<b;g++,f++)g in l&&u(n,f,l[g]);return n.length=f,n}})}}]);
//# sourceMappingURL=chunk-3393c3d1.f6cac9fd.js.map